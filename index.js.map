{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\n\r\nconst galleryListEl = document.querySelector(\".gallery\");\r\n\r\nconst createGalleryItemEl = (image) => {\r\n    return `\r\n        <li class=\"gallery-item\">\r\n        <a class=\"gallery-link\" href=${image.largeImageURL}>\r\n            <img\r\n            class=\"gallery-image\"\r\n            src=\"${image.previewURL}\"\r\n            alt=\"${image.tags}\"\r\n            title=\"Likes \\n ${image.likes} Views \\n ${image.views} Comments \\n ${image.comments} Downloads \\n ${image.downloads}\"\r\n            />\r\n        </a>\r\n        </li>\r\n        `;\r\n}\r\n\r\nexport function createGallery(images) {\r\n    const galleryArr = images.map(el => createGalleryItemEl(el)).join('');\r\n    galleryListEl.innerHTML = galleryArr;\r\n\r\n    const lightbox = new SimpleLightbox('.gallery a', {\r\n      captionsData: 'title',\r\n        captionDelay: 250,\r\n      });\r\n}\r\n","export function createUrl(keyword) {\r\n    const options = {\r\n        baseUrl: \"https://pixabay.com/api/\",\r\n        apiKey: import.meta.env.VITE_PIXABAY_API_KEY,\r\n        query: keyword,\r\n        imageType: \"photo\",\r\n        orientation: \"hohorizontal\",\r\n        safesearch: true,\r\n    }\r\n    \r\n    const url = new URL(options.baseUrl);\r\n    url.search = new URLSearchParams({\r\n        key: options.apiKey,\r\n        q: options.query,\r\n        imageType: options.imageType,\r\n        orientation: options.orientation,\r\n        safesearch: options.safesearch,\r\n    }).toString();\r\n\r\n    return url;\r\n}","import iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport { createGallery } from './js/render-functions.js';\r\nimport { createUrl } from \"./js/pixabay-api.js\";\r\n\r\n\r\nconst refs = {\r\n    formEl: document.querySelector('.form'),\r\n    formInputEl: document.querySelector('.form-input-key-word'),\r\n    formBtnEl: document.querySelector('.search-btn'),\r\n    galleryListEl: document.querySelector(\".gallery\"),\r\n    loaderEl: document.querySelector('.loader'),\r\n}\r\n\r\nfunction handleSubmit(event) {\r\n    event.preventDefault();\r\n    const keyWord = event.target.elements.keyword.value;\r\n    console.log(keyWord);\r\n\r\n    if (keyWord === '') {\r\n        iziToast.warning({\r\n            title: 'Caution',\r\n            message: 'No keyword to start search',\r\n            position: 'topRight',\r\n          }); \r\n        return;\r\n    }\r\n\r\n    refs.loaderEl.classList.remove('hidden');\r\n    const url = createUrl(keyWord);\r\n\r\n    fetch(url)\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            const responseApi = data;\r\n            console.log(data);\r\n            refs.loaderEl.classList.add('hidden');\r\n            createGallery(data.hits.slice(0, 9));\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    \r\n    refs.formEl.reset();\r\n}\r\n\r\nrefs.formEl.addEventListener('submit', handleSubmit);\r\n\r\n"],"names":["galleryListEl","createGalleryItemEl","image","createGallery","images","galleryArr","el","SimpleLightbox","createUrl","keyword","options","url","refs","handleSubmit","event","keyWord","iziToast","response","data","error"],"mappings":"6vBAKA,MAAMA,EAAgB,SAAS,cAAc,UAAU,EAEjDC,EAAuBC,GAClB;AAAA;AAAA,uCAE4BA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGvCA,EAAM,UAAU;AAAA,mBAChBA,EAAM,IAAI;AAAA;AAAA,GACCA,EAAM,KAAK;AAAA,GAAaA,EAAM,KAAK;AAAA,GAAgBA,EAAM,QAAQ;AAAA,GAAiBA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAOxH,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAaD,EAAO,IAAIE,GAAML,EAAoBK,CAAE,CAAC,EAAE,KAAK,EAAE,EACpEN,EAAc,UAAYK,EAET,IAAIE,EAAe,aAAc,CAChD,aAAc,QACZ,aAAc,GACtB,CAAO,CACP,CC9BO,SAASC,EAAUC,EAAS,CAC/B,MAAMC,EAAU,CACZ,QAAS,2BACT,OAAQ,OACR,MAAOD,EACP,UAAW,QACX,YAAa,eACb,WAAY,EAAA,EAGVE,EAAM,IAAI,IAAID,EAAQ,OAAO,EAC/B,OAAAC,EAAA,OAAS,IAAI,gBAAgB,CAC7B,IAAKD,EAAQ,OACb,EAAGA,EAAQ,MACX,UAAWA,EAAQ,UACnB,YAAaA,EAAQ,YACrB,WAAYA,EAAQ,UAAA,CACvB,EAAE,SAAS,EAELC,CACX,CCZA,MAAMC,EAAO,CACT,OAAQ,SAAS,cAAc,OAAO,EACtC,YAAa,SAAS,cAAc,sBAAsB,EAC1D,UAAW,SAAS,cAAc,aAAa,EAC/C,cAAe,SAAS,cAAc,UAAU,EAChD,SAAU,SAAS,cAAc,SAAS,CAC9C,EAEA,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAUD,EAAM,OAAO,SAAS,QAAQ,MAG9C,GAFA,QAAQ,IAAIC,CAAO,EAEfA,IAAY,GAAI,CAChBC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,6BACT,SAAU,UACtB,CAAW,EACH,MACH,CAEDJ,EAAK,SAAS,UAAU,OAAO,QAAQ,EACvC,MAAMD,EAAMH,EAAUO,CAAO,EAE7B,MAAMJ,CAAG,EACJ,KAAKM,GACKA,EAAS,MACnB,EACA,KAAKC,GAAQ,CAEV,QAAQ,IAAIA,CAAI,EAChBN,EAAK,SAAS,UAAU,IAAI,QAAQ,EACpCT,EAAce,EAAK,KAAK,MAAM,EAAG,CAAC,CAAC,CAC/C,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EAELP,EAAK,OAAO,OAChB,CAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY"}